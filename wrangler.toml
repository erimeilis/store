name = "store-crud-api"
main = "src/index.ts"
compatibility_date = "2024-08-25"

# Production bindings (default environment)
[[d1_databases]]
binding = "DB"
database_name = "store-database"
database_id = "a293b988-9b67-4430-ad66-6d63e3cebf20"

[[r2_buckets]]
binding = "BUCKET"
bucket_name = "store-uploads"

[[kv_namespaces]]
binding = "KV"
id = "faf63b06f0cf4d5c969166dda943cf36"

[vars]
NODE_ENV = "production"
API_URL = "https://store-crud-api.eri-42e.workers.dev"
AUTH_BASE_URL = "https://store-crud-api.eri-42e.workers.dev"
ALLOWED_ORIGINS = "https://store-crud-front.eri-42e.workers.dev"

# Development Environment (uses preview/dev resources only)
[env.dev]

[[env.dev.d1_databases]]
binding = "DB"
database_name = "store-database-preview"
database_id = "6a7a4053-7868-45a6-839d-1bfa6c62f41c"
experimental_remote = true

[[env.dev.r2_buckets]]
binding = "BUCKET"
bucket_name = "store-uploads-preview"
experimental_remote = true

[[env.dev.kv_namespaces]]
binding = "KV"
id = "19954278d76c49cd9e431ba514b700b6"
experimental_remote = true

[env.dev.vars]
NODE_ENV = "development"
API_URL = "http://localhost:8787"
AUTH_BASE_URL = "http://localhost:8787"
ALLOWED_ORIGINS = "http://localhost:5173,http://localhost:8787"

# Production Environment (uses production resources only)
[env.production]

[[env.production.d1_databases]]
binding = "DB"
database_name = "store-database"
database_id = "a293b988-9b67-4430-ad66-6d63e3cebf20"

[[env.production.r2_buckets]]
binding = "BUCKET"
bucket_name = "store-uploads"

[[env.production.kv_namespaces]]
binding = "KV"
id = "faf63b06f0cf4d5c969166dda943cf36"

[env.production.vars]
NODE_ENV = "production"
API_URL = "https://store-crud-api.eri-42e.workers.dev"
AUTH_BASE_URL = "https://store-crud-api.eri-42e.workers.dev"
ALLOWED_ORIGINS = "https://store-crud-front.eri-42e.workers.dev"